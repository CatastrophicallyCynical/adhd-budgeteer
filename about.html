<!doctype html><html lang="en">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>About ¬∑ Budgeteer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <div class="app-title">About</div>
  <div class="affirmation small"></div>
</header>

<div class="container">
  <div class="card">
    <div class="row" style="align-items:center">
      <div style="font-size:36px; line-height:1">‚ù§Ô∏è</div>
      <button class="btn" id="backBtn">Back</button>
    </div>
    <h2>Built with care by James for Cameron</h2>
    <div><em>You're worth every bit of frustration this code was.</em></div>
    <hr>
    <div class="small" id="ver"></div>
  </div>

  <div class="card">
    <div class="actions" style="justify-content:center">
      <button class="btn" id="export">Export settings</button>
      <button class="btn" id="import">Import settings</button>
    </div>
  </div>

  <div class="card mb-safe">
    <div style="font-weight:700; margin-bottom:8px">Danger zone</div>
    <button class="btn" id="wipe">Delete all local data</button>
  </div>
</div>

<nav class="tabbar">
  <a href="index.html"><span class="ico">üè†</span><span>Home</span></a>
  <a href="expense.html"><span class="ico">‚ûñ</span><span>Expense</span></a>
  <a href="income.html"><span class="ico">‚ûï</span><span>Income</span></a>
  <a href="history.html"><span class="ico">üìú</span><span>History</span></a>
  <a href="about.html"><span class="ico">‚öôÔ∏è</span><span>About</span></a>
</nav>

<script>
document.getElementById('backBtn').onclick = ()=> history.back();
document.getElementById('ver').textContent = `Local data ‚Ä¢ ${new Date().toLocaleString()}`;

function exportSettings(){
  const out = {
    budgeteer_expenses: JSON.parse(localStorage.getItem('budgeteer_expenses')||'[]'),
    budgeteer_income: JSON.parse(localStorage.getItem('budgeteer_income')||'[]')
  };
  const blob = new Blob([JSON.stringify(out,null,2)], {type:'application/json'});
  const a = Object.assign(document.createElement('a'), {href:URL.createObjectURL(blob), download:'budgeteer-backup.json'}); a.click();
}
function importSettings(){
  const input = Object.assign(document.createElement('input'),{type:'file', accept:'application/json'});
  input.onchange = async ()=>{
    try{
      const text = await input.files[0].text(); const data = JSON.parse(text);
      if (data.budgeteer_expenses) localStorage.setItem('budgeteer_expenses', JSON.stringify(data.budgeteer_expenses));
      if (data.budgeteer_income) localStorage.setItem('budgeteer_income', JSON.stringify(data.budgeteer_income));
      alert('Imported');
    }catch{ alert('Import failed'); }
  };
  input.click();
}
function wipeAll(){
  if (!confirm('Are you sure?? This deletes all local Budgeteer data.')) return;
  if (!confirm('ARE YOU SURE DUDE?? This cannot be undone.')) return;
  localStorage.clear(); location.reload();
}
document.getElementById('export').onclick = exportSettings;
document.getElementById('import').onclick = importSettings;
document.getElementById('wipe').onclick = wipeAll;
</script>
</body></html>
