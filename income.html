<!doctype html><html lang="en">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>Add Income Â· Budgeteer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<script src="theme-apply.js"></script>
<div class="container">
  <div class="card">
    <h2>Add Income</h2>

    <label>Amount (positive)</label>
    <input type="number" id="amount" step="0.01" placeholder="0.00">

    <label>Date</label>
    <input type="date" id="date">

    <label>Note (optional)</label>
    <input type="text" id="note" placeholder="Paycheck, refundâ€¦">

    <div class="actions">
      <button class="btn" id="cancel">Cancel</button>
      <button class="btn primary" id="save">Save</button>
    </div>
  </div>
</div>

<nav class="tabbar">
  <a href="index.html"><span class="ico">ğŸ </span><span>Home</span></a>
  <a href="expense.html"><span class="ico">â–</span><span>Expense</span></a>
  <a href="income.html"><span class="ico">â•</span><span>Income</span></a>
  <a href="history.html"><span class="ico">ğŸ“œ</span><span>History</span></a>
  <a href="about.html"><span class="ico">âš™ï¸</span><span>About</span></a>
</nav>

<script>
const LS_INC='budgeteer_income';
function load(k,d){ try{ return JSON.parse(localStorage.getItem(k)) ?? d; }catch{ return d; } }
function save(k,v){ localStorage.setItem(k, JSON.stringify(v)); }

document.getElementById('date').value = new Date().toISOString().slice(0,10);
document.getElementById('cancel').onclick = ()=> history.back();
document.getElementById('save').onclick = ()=>{
  const amt = Number((document.getElementById('amount').value||'').trim());
  if (!amt || amt<=0) { alert('Enter a positive amount'); return; }
  const date = document.getElementById('date').value || new Date().toISOString().slice(0,10);
  const note = document.getElementById('note').value || '';
  const all = load(LS_INC, []);
  all.push({ id: crypto.randomUUID(), amount: amt, date, note });
  save(LS_INC, all);
  alert('Saved!');
  history.back();
};
</script>
</body></html>
